## ディレクトリ構成の設計（DDD 風）

internal/domain：ドメインモデル（ビジネスの核となる構造体やロジック）
internal/repository：データの永続化レイヤー（DB などの操作を担当）
internal/service（または usecase）：ユースケース層、ドメインモデルとリポジトリを繋ぐ
main.go：アプリケーションのエントリーポイント

この分離により、役割が明確になりメンテナンスしやすくなる、らしい。

## ドメインモデルの設計

User 構造体を作成し、ビジネス的に必要な属性（ID、名前、メール、パスワード、作成日時など）を保持
NewUser ファクトリ関数で不変条件（必須項目のチェック）を担保

## リポジトリの設計

ユーザーデータの保存や検索を扱う
スレッドセーフにするために sync.RWMutex を利用して排他制御
メモリ上にユーザーを保存する簡易実装

## サービス（ユースケース層）

ドメインモデルとリポジトリを繋ぎ、ビジネスロジック（メールの重複チェックやユーザー登録）を実装
RegisterUser メソッドでユーザー登録の流れを管理

## main.go での組み立てと実行

リポジトリのインスタンス作成
サービスのインスタンス作成にリポジトリを注入（依存性注入）
ユースケースメソッドを呼び出してユーザー登録を実行

結果を標準出力に表示

## トラブルシューティング

sync.RWMutex のコピー警告への対処
リポジトリはポインタで渡さないとロック情報がコピーされるので無意味となる
